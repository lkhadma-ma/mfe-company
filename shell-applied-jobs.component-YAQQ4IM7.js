import{a as l,c as r}from"./chunk-FODDCRVP.js";import"./chunk-2VMXMS7J.js";import{computed as V,inject as L,signal as N}from"@angular/core";import{CommonModule as P}from"@angular/common";import{inject as v,signal as C}from"@angular/core";import{inject as E}from"@angular/core";import*as s from"@angular/core";var f=(()=>{class o{http=E(r);baseUrl="http://localhost:8083/mbe-company/api/v1/applications";getAppliedJobs(){return this.http.get(`${this.baseUrl}/applied-jobs`)}static \u0275fac=function(a){return new(a||o)};static \u0275prov=s.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();import*as d from"@angular/core";var y=(()=>{class o{appliedJobsService=v(f);jobApplicationSignal=C([{user:{username:"oyaagoub5",name:"Oussama Yaagoub",avatar:"https://avatars.githubusercontent.com/u/63155454?v=4",about:"Passionate about technology and software development. Experienced in building web applications using modern frameworks and tools. Always eager to learn and take on new challenges.",headline:"Full Stack Developer",skills:["JavaScript","TypeScript","Angular","React","Node.js","Express","MongoDB","SQL","HTML","CSS"]},pipelineStage:[{status:"SUBMITTED",createdAt:new Date().toISOString()}]}]);jobApplications=this.jobApplicationSignal.asReadonly();loadJobApplications(){this.jobApplicationSignal.set(null),this.appliedJobsService.getAppliedJobs().subscribe({next:t=>{this.jobApplicationSignal.set(t)}})}static \u0275fac=function(a){return new(a||o)};static \u0275prov=d.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();import"@angular/core";import*as m from"@angular/core";var S=()=>[1,2,3,4];function _(o,p){o&1&&(m.\u0275\u0275domElementStart(0,"div",0)(1,"div",1),m.\u0275\u0275domElement(2,"div",2),m.\u0275\u0275domElementStart(3,"div",3),m.\u0275\u0275domElement(4,"div",4)(5,"div",4),m.\u0275\u0275domElementEnd()()()),o&2&&(m.\u0275\u0275advance(4),m.\u0275\u0275styleProp("--w","50%"),m.\u0275\u0275advance(),m.\u0275\u0275styleProp("--w","70%"))}var u=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275cmp=m.\u0275\u0275defineComponent({type:o,selectors:[["mfe-company-loading"]],hostAttrs:[1,"mfe-company-w-full","mfe-company-flex","mfe-company-flex-col"],decls:2,vars:1,consts:[[1,"mfe-company-mx-auto","mfe-company-w-full","mfe-company-rounded-md","mfe-company-p-4"],[1,"mfe-company-flex","mfe-company-animate-pulse","mfe-company-space-x-4","mfe-company-items-center"],[1,"mfe-company-size-14","mfe-company-rounded-full","mfe-company-bg-gray-200"],[1,"mfe-company-flex-1","mfe-company-space-y-4","mfe-company-py-1"],[1,"mfe-company-w-[--w]","mfe-company-h-2","mfe-company-rounded","mfe-company-bg-gray-200"]],template:function(a,i){a&1&&m.\u0275\u0275repeaterCreate(0,_,6,4,"div",0,m.\u0275\u0275repeaterTrackByIndex),a&2&&m.\u0275\u0275repeater(m.\u0275\u0275pureFunction0(0,S))},encapsulation:2})}return o})();import{input as h,signal as T}from"@angular/core";import{CommonModule as A}from"@angular/common";import*as e from"@angular/core";var w=(o,p)=>p.createdAt;function I(o,p){o&1&&(e.\u0275\u0275domElementStart(0,"p",16),e.\u0275\u0275text(1," Your application has been sent "),e.\u0275\u0275domElementEnd())}function D(o,p){if(o&1&&(e.\u0275\u0275domElementStart(0,"div",17)(1,"p",18),e.\u0275\u0275text(2),e.\u0275\u0275domElementEnd()()),o&2){let t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t==null?null:t.note)}}function M(o,p){if(o&1&&e.\u0275\u0275conditionalCreate(0,D,3,1,"div",17),o&2){let t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275conditional(t!=null&&t.note?0:-1)}}function J(o,p){if(o&1&&(e.\u0275\u0275domElementStart(0,"div",12)(1,"div",13),e.\u0275\u0275domElement(2,"i"),e.\u0275\u0275domElementEnd(),e.\u0275\u0275domElementStart(3,"div",14)(4,"p",15),e.\u0275\u0275text(5),e.\u0275\u0275domElementEnd(),e.\u0275\u0275conditionalCreate(6,I,2,0,"p",16)(7,M,1,1),e.\u0275\u0275domElementEnd()()),o&2){let t=p.$implicit;e.\u0275\u0275nextContext(2);let a=e.\u0275\u0275readContextLet(0),i=e.\u0275\u0275readContextLet(1),c=e.\u0275\u0275nextContext(),b=c.stageIndex(t,a);e.\u0275\u0275advance(),e.\u0275\u0275classMap(c.getStepClasses(b,i)),e.\u0275\u0275advance(),e.\u0275\u0275classMap(e.\u0275\u0275interpolate1("",c.getIcon(t.status)," mfe-company-text-xs")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(c.getTitle(t.status)),e.\u0275\u0275advance(),e.\u0275\u0275conditional(t.status==="SUBMITTED"||t.status==="VIEWED"?6:7)}}function F(o,p){if(o&1&&(e.\u0275\u0275domElementStart(0,"div",8)(1,"div",9),e.\u0275\u0275domElement(2,"div",10),e.\u0275\u0275domElementStart(3,"div",11),e.\u0275\u0275repeaterCreate(4,J,8,7,"div",12,w),e.\u0275\u0275domElementEnd()()()),o&2){e.\u0275\u0275nextContext();let t=e.\u0275\u0275readContextLet(0);e.\u0275\u0275advance(4),e.\u0275\u0275repeater(t)}}function j(o,p){if(o&1){let t=e.\u0275\u0275getCurrentView();e.\u0275\u0275declareLet(0)(1),e.\u0275\u0275domElementStart(2,"div",0)(3,"div",1),e.\u0275\u0275domListener("click",function(){e.\u0275\u0275restoreView(t);let i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.openAccordion.set(!i.openAccordion()))}),e.\u0275\u0275domElementStart(4,"div",2),e.\u0275\u0275domElement(5,"img",3),e.\u0275\u0275domElementStart(6,"div",4)(7,"h3",5),e.\u0275\u0275text(8),e.\u0275\u0275domElementEnd(),e.\u0275\u0275domElementStart(9,"p",6),e.\u0275\u0275text(10),e.\u0275\u0275domElementEnd()(),e.\u0275\u0275domElementStart(11,"span",7),e.\u0275\u0275text(12),e.\u0275\u0275domElementEnd()()(),e.\u0275\u0275conditionalCreate(13,F,6,0,"div",8),e.\u0275\u0275domElementEnd()}if(o&2){let t=e.\u0275\u0275nextContext(),a=e.\u0275\u0275readContextLet(0),i=e.\u0275\u0275storeLet(t.getOrderedTimeline(a));e.\u0275\u0275advance(),e.\u0275\u0275storeLet(t.latestIndex(i)),e.\u0275\u0275advance(4),e.\u0275\u0275domProperty("src",a.user.avatar,e.\u0275\u0275sanitizeUrl)("alt",a.user.name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",a.user.name," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",a.user.headline," "),e.\u0275\u0275advance(),e.\u0275\u0275classMap(t.statusBadgeClasses(t.getLatestStatus(a))),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",t.getStatusText(t.getLatestStatus(a))," "),e.\u0275\u0275advance(),e.\u0275\u0275conditional(t.openAccordion()?13:-1)}}var g=(()=>{class o{openAccordion=T(!1);application=h();getLatestStatus(t){return t.pipelineStage?.length?t.pipelineStage[t.pipelineStage.length-1].status:"SUBMITTED"}getOrderedTimeline(t){return[...t.pipelineStage??[]].sort((a,i)=>new Date(a.createdAt).getTime()-new Date(i.createdAt).getTime())}stageIndex(t,a){return a.indexOf(t)}latestIndex(t){return t.length-1}getStepClasses(t,a){return t<a?"mfe-company-bg-green-500 mfe-company-border-green-500 mfe-company-text-white":t===a?"mfe-company-bg-white mfe-company-border-green-500 mfe-company-text-green-500":"mfe-company-bg-gray-100 mfe-company-border-gray-300 mfe-company-text-gray-400"}getIcon(t){return{SUBMITTED:"fa-solid fa-paper-plane",VIEWED:"fa-solid fa-eye",INTERVIEW:"fa-solid fa-calendar",ACCEPTED:"fa-solid fa-check",REJECTED:"fa-solid fa-times",PASSED:"fa-solid fa-check-double"}[t]}getTitle(t){return{SUBMITTED:"Submitted",VIEWED:"Viewed",INTERVIEW:"Interview",ACCEPTED:"Accepted",REJECTED:"Rejected",PASSED:"Passed"}[t]}getStatusText(t){return{SUBMITTED:"Submitted",VIEWED:"Viewed",INTERVIEW:"Interview",ACCEPTED:"Accepted",REJECTED:"Rejected",PASSED:"Passed"}[t]}statusBadgeClasses(t){return`mfe-company-px-3 mfe-company-py-1 mfe-company-rounded-full mfe-company-text-sm mfe-company-font-medium ${{SUBMITTED:"mfe-company-bg-blue-100 mfe-company-text-blue-800",VIEWED:"mfe-company-bg-purple-100 mfe-company-text-purple-800",INTERVIEW:"mfe-company-bg-yellow-100 mfe-company-text-yellow-800",ACCEPTED:"mfe-company-bg-green-100 mfe-company-text-green-800",REJECTED:"mfe-company-bg-red-100 mfe-company-text-red-800",PASSED:"mfe-company-bg-teal-100 mfe-company-text-teal-800"}[t]}`}getMessageForStatus(t){return{SUBMITTED:"Your application has been submitted successfully.",VIEWED:"The employer has viewed your application."}[t]}static \u0275fac=function(a){return new(a||o)};static \u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["mfe-company-job-application"]],inputs:{application:[1,"application"]},decls:2,vars:2,consts:[[1,"mfe-company-bg-white","mfe-company-border","mfe-company-border-gray-200","mfe-company-rounded-xl","mfe-company-shadow-sm","mfe-company-overflow-hidden"],[1,"mfe-company-p-6","max-sm:mfe-company-p-2","mfe-company-border-b","mfe-company-border-gray-200",3,"click"],[1,"mfe-company-flex","mfe-company-items-center","mfe-company-gap-4"],[1,"max-sm:mfe-company-w-8","max-sm:mfe-company-h-8","mfe-company-w-12","mfe-company-h-12","mfe-company-rounded-full","mfe-company-object-cover","mfe-company-border","mfe-company-border-gray-200",3,"src","alt"],[1,"mfe-company-flex-1"],[1,"mfe-company-cursor-pointer","mfe-company-text-sm","sm:mfe-company-text-lg","mfe-company-font-semibold","sm:mfe-company-w-max","mfe-company-text-gray-900"],[1,"mfe-company-text-gray-600","mfe-company-mt-1","mfe-company-text-xs","sm:mfe-company-text-md"],[1,"max-424:mfe-company-hidden","mfe-company-px-3","mfe-company-py-1","mfe-company-rounded-full","mfe-company-text-sm","mfe-company-font-medium"],[1,"mfe-company-p-6"],[1,"mfe-company-relative"],[1,"mfe-company-absolute","mfe-company-left-[.95rem]","mfe-company-top-0","mfe-company-bottom-0","mfe-company-w-0.5","mfe-company-bg-gray-200"],[1,"mfe-company-space-y-6"],[1,"mfe-company-relative","mfe-company-flex","mfe-company-gap-4"],[1,"mfe-company-w-8","mfe-company-h-8","mfe-company-rounded-full","mfe-company-flex","mfe-company-items-center","mfe-company-justify-center","mfe-company-z-10","mfe-company-border-2"],[1,"mfe-company-flex-1","mfe-company-pb-6"],[1,"mfe-company-font-medium","mfe-company-text-gray-900"],[1,"mfe-company-text-sm","mfe-company-text-gray-500","mfe-company-mt-1"],[1,"mfe-company-bg-blue-50","mfe-company-border","mfe-company-border-blue-200","mfe-company-rounded-lg","mfe-company-p-4","mfe-company-mt-4"],[1,"mfe-company-text-sm","mfe-company-text-blue-800"]],template:function(a,i){if(a&1&&(e.\u0275\u0275declareLet(0),e.\u0275\u0275conditionalCreate(1,j,14,10,"div",0)),a&2){let c=e.\u0275\u0275storeLet(i.application());e.\u0275\u0275advance(),e.\u0275\u0275conditional(c?1:-1)}},dependencies:[A],encapsulation:2})}return o})();import*as n from"@angular/core";import*as x from"@angular/common";var k=(o,p)=>p.user;function B(o,p){if(o&1){let t=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"button",13),n.\u0275\u0275listener("click",function(){let i=n.\u0275\u0275restoreView(t).$implicit,c=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(c.setStatusFilter(i.value))}),n.\u0275\u0275text(1),n.\u0275\u0275elementStart(2,"span",14),n.\u0275\u0275text(3),n.\u0275\u0275elementEnd()()}if(o&2){let t=p.$implicit,a=n.\u0275\u0275nextContext();n.\u0275\u0275classMap(a.getFilterButtonClasses(t.value)),n.\u0275\u0275advance(),n.\u0275\u0275textInterpolate1(" ",t.label," "),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate1(" (",a.getApplicationCount(t.value),") ")}}function R(o,p){o&1&&n.\u0275\u0275element(0,"mfe-company-loading")}function U(o,p){if(o&1&&n.\u0275\u0275element(0,"mfe-company-job-application",15),o&2){let t=p.$implicit;n.\u0275\u0275property("application",t)}}function W(o,p){if(o&1&&(n.\u0275\u0275elementStart(0,"div",11),n.\u0275\u0275element(1,"i",16),n.\u0275\u0275elementStart(2,"p",17),n.\u0275\u0275text(3),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"p",18),n.\u0275\u0275text(5," Applications with this status will appear here "),n.\u0275\u0275elementEnd()()),o&2){let t=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate1(" ",t.getEmptyStateMessage()," ")}}function $(o,p){if(o&1&&n.\u0275\u0275repeaterCreate(0,U,1,1,"mfe-company-job-application",15,k,!1,W,6,1,"div",11),o&2){let t=n.\u0275\u0275nextContext();n.\u0275\u0275repeater(t.filteredApplications())}}function O(o,p){if(o&1&&(n.\u0275\u0275elementStart(0,"div",11),n.\u0275\u0275element(1,"i",16),n.\u0275\u0275elementStart(2,"p",17),n.\u0275\u0275text(3),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"p",18),n.\u0275\u0275text(5," Applications with this status will appear here "),n.\u0275\u0275elementEnd()()),o&2){let t=n.\u0275\u0275nextContext();n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate1(" ",t.getEmptyStateMessage()," ")}}var de=(()=>{class o{appliedJobsStore=L(y);statusFilter=N("SUBMITTED");applications=this.appliedJobsStore.jobApplications;statusFilters=[{value:"SUBMITTED",label:"Submitted"},{value:"VIEWED",label:"Viewed"},{value:"INTERVIEW",label:"Interview"},{value:"PASSED",label:"Passed"},{value:"ACCEPTED",label:"Accepted"},{value:"REJECTED",label:"Rejected"}];filteredApplications=V(()=>{let t=this.statusFilter();return(this.applications()??[]).filter(i=>this.getLatestStatus(i)===t)});setStatusFilter(t){this.statusFilter.set(t)}getFilterButtonClasses(t){let a=this.statusFilter()===t,i="mfe-company-px-4 mfe-company-py-2 mfe-company-rounded-lg mfe-company-text-sm mfe-company-font-medium mfe-company-transition mfe-company-duration-200 mfe-company-whitespace-nowrap";return a?`${i} mfe-company-bg-blue-100 mfe-company-text-blue-700 mfe-company-border mfe-company-border-blue-200`:`${i} mfe-company-bg-gray-100 mfe-company-text-gray-700 mfe-company-border mfe-company-border-transparent hover:mfe-company-bg-gray-200`}getApplicationCount(t){return(this.applications()??[]).filter(i=>this.getLatestStatus(i)===t).length}getLatestStatus(t){return!t.pipelineStage||t.pipelineStage.length===0?"SUBMITTED":t.pipelineStage[t.pipelineStage.length-1].status}getEmptyStateMessage(){let t=this.statusFilter();return{SUBMITTED:"No submitted applications",VIEWED:"No applications viewed yet",INTERVIEW:"No interview invitations",ACCEPTED:"No accepted applications",REJECTED:"No rejected applications",PASSED:"No passed applications"}[t]}static \u0275fac=function(a){return new(a||o)};static \u0275cmp=n.\u0275\u0275defineComponent({type:o,selectors:[["mfe-company-applied-jobs"]],decls:18,vars:2,consts:[["ngxClass","md:mfe-company-pt-[5rem]"],[1,"mfe-company-w-full","mfe-company-mb-40","md:mfe-company-space-x-6","md:mfe-company-flex"],[1,"mfe-company-w-full"],[1,"mfe-company-w-full","mfe-company-flex","mfe-company-flex-col","mfe-company-space-y-4"],[1,"max-sm:mfe-company-h-[90vh]","max-sm:mfe-company-border","sm:mfe-company-rounded-lg","mfe-company-bg-white"],[1,"mfe-company-px-4","mfe-company-py-4","mfe-company-space-y-4"],[1,"mfe-company-space-y-2"],[1,"mfe-company-text-2xl","mfe-company-font-semibold","mfe-company-text-gray-900"],[1,"mfe-company-text-gray-600","mfe-company-text-sm"],[1,"mfe-company-flex","mfe-company-gap-2","mfe-company-overflow-x-auto","mfe-company-pb-2"],["class","mfe-company-px-4 mfe-company-py-2 mfe-company-rounded-lg mfe-company-text-sm mfe-company-font-medium mfe-company-transition mfe-company-duration-200 mfe-company-whitespace-nowrap",3,"class","click",4,"ngFor","ngForOf"],[1,"mfe-company-text-center","mfe-company-py-12","mfe-company-text-gray-500"],[1,"mfe-company-hidden","mfe-company-w-[400px]","lg:mfe-company-flex","mfe-company-flex-col","mfe-company-space-y-4"],[1,"mfe-company-px-4","mfe-company-py-2","mfe-company-rounded-lg","mfe-company-text-sm","mfe-company-font-medium","mfe-company-transition","mfe-company-duration-200","mfe-company-whitespace-nowrap",3,"click"],[1,"mfe-company-ml-1","mfe-company-text-xs","mfe-company-opacity-70"],[3,"application"],[1,"fa-solid","fa-briefcase","mfe-company-text-4xl","mfe-company-mb-4","mfe-company-text-gray-300"],[1,"mfe-company-text-lg"],[1,"mfe-company-text-sm","mfe-company-mt-1"]],template:function(a,i){a&1&&(n.\u0275\u0275elementStart(0,"mfe-company-section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7),n.\u0275\u0275text(8," job Applications "),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(9,"p",8),n.\u0275\u0275text(10," Manage and review the applications submitted by candidates for your job postings. "),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementStart(11,"div",9),n.\u0275\u0275template(12,B,4,4,"button",10),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(13,"div",3),n.\u0275\u0275conditionalCreate(14,R,1,0,"mfe-company-loading")(15,$,3,1)(16,O,6,1,"div",11),n.\u0275\u0275elementEnd()()()()(),n.\u0275\u0275element(17,"div",12),n.\u0275\u0275elementEnd()()),a&2&&(n.\u0275\u0275advance(12),n.\u0275\u0275property("ngForOf",i.statusFilters),n.\u0275\u0275advance(2),n.\u0275\u0275conditional(i.applications()===null?14:i.applications().length>0?15:16))},dependencies:[P,x.NgForOf,l,u,g],encapsulation:2})}return o})();export{de as ShellAppliedJobsComponent};
