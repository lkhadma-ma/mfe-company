import{a as r,c as s}from"./chunk-FODDCRVP.js";import"./chunk-2VMXMS7J.js";import{computed as I,inject as M,signal as J}from"@angular/core";import{CommonModule as F}from"@angular/common";import{inject as E,signal as S}from"@angular/core";import{inject as v}from"@angular/core";import*as f from"@angular/core";var d=(()=>{class o{http=v(s);baseUrl="http://localhost:8083/mbe-company/api/v1/applications";getAppliedJobs(){return this.http.get(`${this.baseUrl}/applied-jobs`)}static \u0275fac=function(a){return new(a||o)};static \u0275prov=f.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();import*as y from"@angular/core";var u=(()=>{class o{appliedJobsService=E(d);jobApplicationSignal=S([{user:{username:"oyaagoub5",name:"Oussama Yaagoub",avatar:"https://avatars.githubusercontent.com/u/63155454?v=4",headline:"Frontend Developer"},pipelineStage:[{status:"SUBMITTED",createdAt:"2025-11-26T22:50:12.567+00:00"},{status:"VIEWED",createdAt:"2025-11-26T21:50:12.567+00:00"}]}]);jobApplications=this.jobApplicationSignal.asReadonly();loadJobApplications(){this.jobApplicationSignal.set(null),this.appliedJobsService.getAppliedJobs().subscribe({next:n=>{this.jobApplicationSignal.set(n)}})}static \u0275fac=function(a){return new(a||o)};static \u0275prov=y.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();import"@angular/core";import*as i from"@angular/core";var C=()=>[1,2,3,4];function h(o,p){o&1&&(i.\u0275\u0275domElementStart(0,"div",0)(1,"div",1),i.\u0275\u0275domElement(2,"div",2),i.\u0275\u0275domElementStart(3,"div",3),i.\u0275\u0275domElement(4,"div",4)(5,"div",4),i.\u0275\u0275domElementEnd()()()),o&2&&(i.\u0275\u0275advance(4),i.\u0275\u0275styleProp("--w","50%"),i.\u0275\u0275advance(),i.\u0275\u0275styleProp("--w","70%"))}var g=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275cmp=i.\u0275\u0275defineComponent({type:o,selectors:[["mfe-company-loading"]],hostAttrs:[1,"mfe-company-w-full","mfe-company-flex","mfe-company-flex-col"],decls:2,vars:1,consts:[[1,"mfe-company-mx-auto","mfe-company-w-full","mfe-company-rounded-md","mfe-company-p-4"],[1,"mfe-company-flex","mfe-company-animate-pulse","mfe-company-space-x-4","mfe-company-items-center"],[1,"mfe-company-size-14","mfe-company-rounded-full","mfe-company-bg-gray-200"],[1,"mfe-company-flex-1","mfe-company-space-y-4","mfe-company-py-1"],[1,"mfe-company-w-[--w]","mfe-company-h-2","mfe-company-rounded","mfe-company-bg-gray-200"]],template:function(a,m){a&1&&i.\u0275\u0275repeaterCreate(0,h,6,4,"div",0,i.\u0275\u0275repeaterTrackByIndex),a&2&&i.\u0275\u0275repeater(i.\u0275\u0275pureFunction0(0,C))},encapsulation:2})}return o})();import{computed as l,input as A,signal as T}from"@angular/core";import{CommonModule as _}from"@angular/common";import*as t from"@angular/core";function w(o,p){o&1&&t.\u0275\u0275domElement(0,"div",8)}function D(o,p){if(o&1){let n=t.\u0275\u0275getCurrentView();t.\u0275\u0275domElementStart(0,"div",0)(1,"div",1),t.\u0275\u0275domListener("click",function(){t.\u0275\u0275restoreView(n);let m=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(m.openAccordion.set(!m.openAccordion()))}),t.\u0275\u0275domElementStart(2,"div",2),t.\u0275\u0275domElement(3,"img",3),t.\u0275\u0275domElementStart(4,"div",4)(5,"h3",5),t.\u0275\u0275text(6),t.\u0275\u0275domElementEnd(),t.\u0275\u0275domElementStart(7,"p",6),t.\u0275\u0275text(8),t.\u0275\u0275domElementEnd()(),t.\u0275\u0275domElementStart(9,"span",7),t.\u0275\u0275text(10),t.\u0275\u0275domElementEnd()()(),t.\u0275\u0275conditionalCreate(11,w,1,0,"div",8),t.\u0275\u0275domElementEnd()}if(o&2){let n=t.\u0275\u0275nextContext(),a=t.\u0275\u0275readContextLet(0);t.\u0275\u0275advance(3),t.\u0275\u0275domProperty("src",a.user.avatar,t.\u0275\u0275sanitizeUrl)("alt",a.user.name),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",a.user.name," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",a.user.headline," "),t.\u0275\u0275advance(),t.\u0275\u0275classMap(n.statusBadgeClasses()),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.getStatusText()," "),t.\u0275\u0275advance(),t.\u0275\u0275conditional(n.openAccordion()?11:-1)}}var x=(()=>{class o{openAccordion=T(!1);application=A();getLatestStatus=l(()=>{let n=this.application();if(!n)return;let a=this.getOrderedTimeline(n);return a.length?a[a.length-1].status:"SUBMITTED"});getOrderedTimeline(n){return[...n.pipelineStage??[]].sort((a,m)=>new Date(a.createdAt).getTime()-new Date(m.createdAt).getTime())}getStatusText=l(()=>{let n=this.getLatestStatus();return{SUBMITTED:"Submitted",VIEWED:"Viewed",INTERVIEW:"Interview",ACCEPTED:"Accepted",REJECTED:"Rejected",PASSED:"Passed"}[n||"SUBMITTED"]});statusBadgeClasses=l(()=>{let n=this.getLatestStatus(),a="mfe-company-px-3 mfe-company-py-1 mfe-company-rounded-full mfe-company-text-sm mfe-company-font-medium";return n?`${a} ${{SUBMITTED:"mfe-company-bg-blue-100 mfe-company-text-blue-800",VIEWED:"mfe-company-bg-purple-100 mfe-company-text-purple-800",INTERVIEW:"mfe-company-bg-yellow-100 mfe-company-text-yellow-800",ACCEPTED:"mfe-company-bg-green-100 mfe-company-text-green-800",REJECTED:"mfe-company-bg-red-100 mfe-company-text-red-800",PASSED:"mfe-company-bg-teal-100 mfe-company-text-teal-800"}[n]}`:a});static \u0275fac=function(a){return new(a||o)};static \u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["mfe-company-job-application"]],inputs:{application:[1,"application"]},decls:2,vars:2,consts:[[1,"mfe-company-bg-white","mfe-company-border","mfe-company-border-gray-200","mfe-company-rounded-xl","mfe-company-shadow-sm","mfe-company-overflow-hidden"],[1,"mfe-company-p-6","max-sm:mfe-company-p-2","mfe-company-border-b","mfe-company-border-gray-200",3,"click"],[1,"mfe-company-flex","mfe-company-items-center","mfe-company-gap-4"],[1,"max-sm:mfe-company-w-8","max-sm:mfe-company-h-8","mfe-company-w-12","mfe-company-h-12","mfe-company-rounded-full","mfe-company-object-cover","mfe-company-border","mfe-company-border-gray-200",3,"src","alt"],[1,"mfe-company-flex-1"],[1,"mfe-company-cursor-pointer","mfe-company-text-sm","sm:mfe-company-text-lg","mfe-company-font-semibold","sm:mfe-company-w-max","mfe-company-text-gray-900"],[1,"mfe-company-text-gray-600","mfe-company-mt-1","mfe-company-text-xs","sm:mfe-company-text-md"],[1,"max-424:mfe-company-hidden","mfe-company-px-3","mfe-company-py-1","mfe-company-rounded-full","mfe-company-text-sm","mfe-company-font-medium"],[1,"mfe-company-p-6"]],template:function(a,m){if(a&1&&(t.\u0275\u0275declareLet(0),t.\u0275\u0275conditionalCreate(1,D,12,8,"div",0)),a&2){let c=t.\u0275\u0275storeLet(m.application());t.\u0275\u0275advance(),t.\u0275\u0275conditional(c?1:-1)}},dependencies:[_],encapsulation:2})}return o})();import*as e from"@angular/core";import*as b from"@angular/common";var j=(o,p)=>p.user;function N(o,p){if(o&1){let n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",13),e.\u0275\u0275listener("click",function(){let m=e.\u0275\u0275restoreView(n).$implicit,c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.setStatusFilter(m.value))}),e.\u0275\u0275text(1),e.\u0275\u0275elementStart(2,"span",14),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()}if(o&2){let n=p.$implicit,a=e.\u0275\u0275nextContext();e.\u0275\u0275classMap(a.getFilterButtonClasses(n.value)),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",n.label," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" (",a.getApplicationCount(n.value),") ")}}function V(o,p){o&1&&e.\u0275\u0275element(0,"mfe-company-loading")}function B(o,p){if(o&1&&e.\u0275\u0275element(0,"mfe-company-job-application",15),o&2){let n=p.$implicit;e.\u0275\u0275property("application",n)}}function L(o,p){if(o&1&&(e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275element(1,"i",16),e.\u0275\u0275elementStart(2,"p",17),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p",18),e.\u0275\u0275text(5," Applications with this status will appear here "),e.\u0275\u0275elementEnd()()),o&2){let n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",n.getEmptyStateMessage()," ")}}function P(o,p){if(o&1&&e.\u0275\u0275repeaterCreate(0,B,1,1,"mfe-company-job-application",15,j,!1,L,6,1,"div",11),o&2){let n=e.\u0275\u0275nextContext();e.\u0275\u0275repeater(n.filteredApplications())}}function U(o,p){if(o&1&&(e.\u0275\u0275elementStart(0,"div",11),e.\u0275\u0275element(1,"i",16),e.\u0275\u0275elementStart(2,"p",17),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p",18),e.\u0275\u0275text(5," Applications with this status will appear here "),e.\u0275\u0275elementEnd()()),o&2){let n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",n.getEmptyStateMessage()," ")}}var ce=(()=>{class o{appliedJobsStore=M(u);statusFilter=J("SUBMITTED");applications=this.appliedJobsStore.jobApplications;statusFilters=[{value:"SUBMITTED",label:"Submitted"},{value:"VIEWED",label:"Viewed"},{value:"INTERVIEW",label:"Interview"},{value:"PASSED",label:"Passed"},{value:"ACCEPTED",label:"Accepted"},{value:"REJECTED",label:"Rejected"}];filteredApplications=I(()=>{let n=this.statusFilter();return(this.applications()??[]).filter(m=>this.getLatestStatus(m)===n)});setStatusFilter(n){this.statusFilter.set(n)}getFilterButtonClasses(n){let a=this.statusFilter()===n,m="mfe-company-px-4 mfe-company-py-2 mfe-company-rounded-lg mfe-company-text-sm mfe-company-font-medium mfe-company-transition mfe-company-duration-200 mfe-company-whitespace-nowrap";return a?`${m} mfe-company-bg-blue-100 mfe-company-text-blue-700 mfe-company-border mfe-company-border-blue-200`:`${m} mfe-company-bg-gray-100 mfe-company-text-gray-700 mfe-company-border mfe-company-border-transparent hover:mfe-company-bg-gray-200`}getApplicationCount(n){return(this.applications()??[]).filter(m=>this.getLatestStatus(m)===n).length}getLatestStatus(n){return!n.pipelineStage||n.pipelineStage.length===0?"SUBMITTED":this.getOrderedTimeline(n)[n.pipelineStage.length-1].status}getOrderedTimeline(n){return[...n.pipelineStage??[]].sort((a,m)=>new Date(a.createdAt).getTime()-new Date(m.createdAt).getTime())}getEmptyStateMessage(){let n=this.statusFilter();return{SUBMITTED:"No submitted applications",VIEWED:"No applications viewed yet",INTERVIEW:"No interview invitations",ACCEPTED:"No accepted applications",REJECTED:"No rejected applications",PASSED:"No passed applications"}[n]}static \u0275fac=function(a){return new(a||o)};static \u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["mfe-company-applied-jobs"]],decls:18,vars:2,consts:[["ngxClass","md:mfe-company-pt-[5rem]"],[1,"mfe-company-w-full","mfe-company-mb-40","md:mfe-company-space-x-6","md:mfe-company-flex"],[1,"mfe-company-w-full"],[1,"mfe-company-w-full","mfe-company-flex","mfe-company-flex-col","mfe-company-space-y-4"],[1,"max-sm:mfe-company-h-[90vh]","max-sm:mfe-company-border","sm:mfe-company-rounded-lg","mfe-company-bg-white"],[1,"mfe-company-px-4","mfe-company-py-4","mfe-company-space-y-4"],[1,"mfe-company-space-y-2"],[1,"mfe-company-text-2xl","mfe-company-font-semibold","mfe-company-text-gray-900"],[1,"mfe-company-text-gray-600","mfe-company-text-sm"],[1,"mfe-company-flex","mfe-company-gap-2","mfe-company-overflow-x-auto","mfe-company-pb-2"],["class","mfe-company-px-4 mfe-company-py-2 mfe-company-rounded-lg mfe-company-text-sm mfe-company-font-medium mfe-company-transition mfe-company-duration-200 mfe-company-whitespace-nowrap",3,"class","click",4,"ngFor","ngForOf"],[1,"mfe-company-text-center","mfe-company-py-12","mfe-company-text-gray-500"],[1,"mfe-company-hidden","mfe-company-w-[400px]","lg:mfe-company-flex","mfe-company-flex-col","mfe-company-space-y-4"],[1,"mfe-company-px-4","mfe-company-py-2","mfe-company-rounded-lg","mfe-company-text-sm","mfe-company-font-medium","mfe-company-transition","mfe-company-duration-200","mfe-company-whitespace-nowrap",3,"click"],[1,"mfe-company-ml-1","mfe-company-text-xs","mfe-company-opacity-70"],[3,"application"],[1,"fa-solid","fa-briefcase","mfe-company-text-4xl","mfe-company-mb-4","mfe-company-text-gray-300"],[1,"mfe-company-text-lg"],[1,"mfe-company-text-sm","mfe-company-mt-1"]],template:function(a,m){a&1&&(e.\u0275\u0275elementStart(0,"mfe-company-section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7),e.\u0275\u0275text(8," job Applications "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"p",8),e.\u0275\u0275text(10," Manage and review the applications submitted by candidates for your job postings. "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",9),e.\u0275\u0275template(12,N,4,4,"button",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",3),e.\u0275\u0275conditionalCreate(14,V,1,0,"mfe-company-loading")(15,P,3,1)(16,U,6,1,"div",11),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275element(17,"div",12),e.\u0275\u0275elementEnd()()),a&2&&(e.\u0275\u0275advance(12),e.\u0275\u0275property("ngForOf",m.statusFilters),e.\u0275\u0275advance(2),e.\u0275\u0275conditional(m.applications()===null?14:m.applications().length>0?15:16))},dependencies:[F,b.NgForOf,r,g,x],encapsulation:2})}return o})();export{ce as ShellAppliedJobsComponent};
